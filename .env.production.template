# 프로덕션 환경변수 템플릿
# 실제 배포 시 이 파일을 복사하여 실제 값으로 변경하세요.

# ============================================
# 백엔드 환경변수 (Railway)
# ============================================

# Node.js 환경
NODE_ENV=production
PORT=3000

# JWT 보안 설정 (64자 이상의 강력한 시크릿 키)
JWT_SECRET=your-production-jwt-secret-64-characters-minimum-random-string
JWT_REFRESH_SECRET=your-production-refresh-secret-64-characters-minimum-random-string

# Supabase 프로덕션 설정
SUPABASE_URL=https://your-prod-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-production-service-role-key

# CORS 설정 (프론트엔드 도메인)
CORS_ORIGIN=https://your-app.vercel.app

# 보안 설정
BCRYPT_SALT_ROUNDS=14
QR_CODE_SECRET=your-production-qr-secret-64-characters-minimum-random-string

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# 프론트엔드 환경변수 (Vercel)
# ============================================

# API 연결 URL (Railway 백엔드 URL)
REACT_APP_API_BASE_URL=https://your-backend.railway.app

# 빌드 최적화
GENERATE_SOURCEMAP=false

# ============================================
# GitHub Actions 시크릿 (선택사항)
# ============================================

# 테스트용 Supabase (프로덕션과 분리)
TEST_SUPABASE_URL=https://your-test-project.supabase.co
TEST_SUPABASE_KEY=your-test-service-role-key

# 배포 후 Health Check URL
BACKEND_URL=https://your-backend.railway.app
FRONTEND_URL=https://your-app.vercel.app

# ============================================
# 보안 키 생성 가이드
# ============================================

# 강력한 키 생성 방법:
# 1. Node.js로 생성:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 2. OpenSSL로 생성:
#    openssl rand -hex 32
#
# 3. 온라인 생성기:
#    https://www.random.org/strings/
#    Length: 64, Characters: Hex (0-9, a-f)

# ============================================
# 배포 체크리스트
# ============================================

# Railway 백엔드:
# □ 환경변수 모두 설정 완료
# □ Supabase 연결 테스트 완료  
# □ 배포 로그에서 에러 없음 확인
# □ Health Check API 응답 확인

# Vercel 프론트엔드:
# □ 환경변수 설정 완료
# □ 빌드 성공 확인
# □ 도메인 연결 확인
# □ API 연결 테스트 완료

# Supabase 데이터베이스:
# □ 프로덕션 스키마 생성 완료
# □ RLS 정책 설정 완료
# □ 초기 데이터 생성 완료 (선택사항)
# □ 백업 설정 확인

# 도메인 및 SSL:
# □ 커스텀 도메인 설정 (선택사항)
# □ SSL 인증서 자동 갱신 확인
# □ HTTPS 리디렉션 설정

# 모니터링:
# □ Railway 대시보드 모니터링 설정
# □ Vercel Analytics 설정 (선택사항)  
# □ Supabase 사용량 모니터링
# □ 알림 설정 (선택사항)